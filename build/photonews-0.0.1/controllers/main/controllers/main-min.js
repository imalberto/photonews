YUI.add("controllers/main",function(e,t,n,r){"use strict";var i=n["views/about"]["default"],s=n["views/home"]["default"],o=n["views/photos"]["default"],u=n["views/photo"]["default"],a=n["views/news"]["default"],f=n["views/search"]["default"],l=n["views/search-photo"]["default"],c=n.pn.PN,h=c.Controller.extend({events:{".search-box":{keypress:"enter"}},views:{home:{type:s,preserve:!0},news:{type:a,preserve:!1},photos:{type:o,preserve:!1},photo:{type:u,preserve:!1},about:{type:i,preserve:!0},search:{type:f,preserve:!1},"search-photo":{type:l,preserve:!1}},transitions:{navigate:"fade",toChild:"fade",toParent:"fade"},initializer:function(){var e=this.get("container"),t=e.one(".search-box");this.set("searchBox",t)},render:function(e,t){var n=this.get("viewContainer"),r,i,s;return h.superclass.render.apply(this,arguments),r=e+"-view",i=n.one("."+r),s=this.getViewInfo(e),i&&s&&!s.instance||i&&s&&s.instance&&this.get("activeView")===s.instance&&s.preserve?this.showContent(i,{view:e,update:!1,transition:!1}):this.showView(e,{container:n.create('<div class="'+r+'"></div>'),locals:t},{render:!0,update:!0}),this},enter:function(e){var t=13;e.keyCode===t&&(e.preventDefault(),this.searchQuery())},searchQuery:function(){var e=this.get("searchBox").get("value");e&&this.navigate("/search/photos?q="+e)},navigatePhotos:function(e){this.navigate("/photo/"+e.photoId)}});return r["default"]=h,r},"@VERSION@",{es:!0,requires:["views/about","views/home","views/photos","views/photo","views/news","views/search","views/search-photo","pn"]});
